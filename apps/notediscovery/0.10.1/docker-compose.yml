services:
  notediscovery:
    image: ghcr.io/gamosoft/notediscovery:0.10.1
    container_name: ${CONTAINER_NAME}
    ports:
      - ${PANEL_APP_PORT_HTTP}:8000
    volumes:
      - ${APP_DATA}:/app/data
      - ./plugins:/app/plugins
      - ./config.yaml:/app/config.yaml
      - /etc/localtime:/etc/localtime:ro
    environment:
      - AUTHENTICATION_ENABLED=${AUTHENTICATION_ENABLED}
      - DEMO_MODE=${DEMO_MODE}
    healthcheck:
      test: ["CMD", "python", "-c", "import urllib.request; urllib.request.urlopen('http://localhost:8000/health')"]
      interval: 60s
      timeout: 3s
      retries: 3
      start_period: 5s
    networks:
      - 1panel-network
    labels:
      createdBy: Apps
networks:
  1panel-network:
    external: true
